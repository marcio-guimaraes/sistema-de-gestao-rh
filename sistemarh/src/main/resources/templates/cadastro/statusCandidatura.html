<!DOCTYPE html>
<html lang="pt-br" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Status da Candidatura - MeuRH</title>
    <link rel="stylesheet" th:href="@{/css/layout.css}">
    <link rel="stylesheet" th:href="@{/css/style.css}">
    <link rel="stylesheet" th:href="@{/css/cadastro.css}">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
<header th:replace="~{layout :: header}"></header>

<main class="container py-5">
    <h2 class="mb-4">Status da Candidatura</h2>


    <form method="get" th:action="@{/cadastro/status}" class="row g-3 mb-4">
        <div class="col-md-3">
            <label for="vaga" class="form-label">Vaga</label>
            <select class="form-select" id="vaga" name="vagaId">
                <option value="">Todas</option>
                <option th:each="v : ${vagas}" th:value="${v.id}" th:text="${v.titulo}"></option>
            </select>
        </div>

        <div class="col-md-3">
            <label for="formacao" class="form-label">Formação</label>
            <input type="text" class="form-control" id="formacao" name="formacao">
        </div>

        <div class="col-md-3">
            <label for="experiencia" class="form-label">Experiência</label>
            <input type="text" class="form-control" id="experiencia" name="experiencia">
        </div>

        <div class="col-md-3">
            <label for="status" class="form-label">Status</label>
            <select class="form-select" id="status" name="status">
                <option value="">Todos</option>
                <option value="PENDENTE">Pendente</option>
                <option value="EM_ANALISE">Em Análise</option>
                <option value="APROVADO">Aprovado</option>
                <option value="REPROVADO">Reprovado</option>
            </select>
        </div>

        <div class="col-12 text-end">
            <button type="submit" class="btn btn-primary">Filtrar</button>
        </div>
    </form>


    <table class="table table-bordered table-hover">
        <thead class="table-light">
        <tr>
            <th>Nome do Candidato</th>
            <th>Vaga</th>
            <th>Formação</th>
            <th>Experiência</th>
            <th>Status</th>
            <th>Data</th>
        </tr>
        </thead>
        <tbody>
        <tr th:each="c : ${candidaturas}">
            <td th:text="${c.candidato.nome}"></td>
            <td th:text="${c.vaga.titulo}"></td>
            <td th:text="${c.candidato.formacao}"></td>
            <td th:text="${c.candidato.experiencia}"></td>
            <td th:text="${c.status}"></td>
            <td th:text="${#dates.format(c.data, 'dd/MM/yyyy')}"></td>
        </tr>
        </tbody>
    </table>
</main>

<footer th:replace="~{layout :: footer}"></footer>
</body>
</html>
