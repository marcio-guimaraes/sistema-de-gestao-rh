<!DOCTYPE html>
<html lang="pt-br" xmlns:th="http://www.thymeleaf.org">
<head>
    <meta charset="UTF-8">
    <title>Cadastro de Candidato - MeuRH</title>
    <link rel="stylesheet" th:href="@{/css/layout.css}">
    <link rel="stylesheet" th:href="@{/css/style.css}">
    <link rel="stylesheet" th:href="@{/css/cadastro.css}">
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
<header th:replace="~{layout :: header}"></header>

<main class="container py-5">
    <h2 class="mb-4" th:text="${editMode} ? 'Editar Candidato' : 'Cadastro de Candidato'"></h2>

    <div th:if="${param.error}" class="alert alert-danger" role="alert">
        Erro ao salvar: <span th:text="${param.error}"></span>
    </div>

    <form method="post" th:action="@{/cadastro/candidato/salvar}" th:object="${candidato}">

        <input type="hidden" name="isEditMode" th:value="${editMode}" />

        <div class="mb-3">
            <label for="nome" class="form-label">Nome Completo</label>
            <input type="text" class="form-control" id="nome" th:field="*{nome}" required>
        </div>

        <div class="mb-3">
            <label for="cpf" class="form-label">CPF</label>
            <input type="text" class="form-control" id="cpf" th:field="*{cpf}" th:readonly="${editMode}" required>
        </div>

        <div class="mb-3">
            <label for="formacao" class="form-label">Formação</label>
            <input type="text" class="form-control" id="formacao" th:field="*{formacao}">
        </div>

        <div class="mb-3">
            <label for="experiencia" class="form-label">Experiência</label>
            <textarea class="form-control" id="experiencia" th:field="*{experiencia}" rows="3"></textarea>
        </div>

        <div class="mb-3">
            <label for="pretensao" class="form-label">Pretensão Salarial</label>
            <input type="number" step="0.01" class="form-control" id="pretensao" th:field="*{pretensaoSalarial}">
        </div>

        <div class="mb-3">
            <label for="disponibilidade" class="form-label">Disponibilidade de Horário</label>
            <input type="text" class="form-control" id="disponibilidade" th:field="*{disponibilidade}">
        </div>

        <div class="mb-3">
            <label for="documentos" class="form-label">Documentos Adicionais</label>
            <textarea class="form-control" id="documentos" th:field="*{documentosAdicionais}" rows="2"></textarea>
        </div>

        <div class="mb-3">
            <label for="dataCadastro" class="form-label">Data de Cadastro</label>
            <input type="date" class="form-control" id="dataCadastro" th:field="*{dataCadastro}" required>
        </div>

        <button type="submit" class="btn btn-primary">Salvar Candidato</button>
        <a th:href="@{/cadastro/gestao-candidatos}" class="btn btn-secondary">Cancelar</a>
    </form>
</main>

<footer th:replace="~{layout :: footer}"></footer>
</body>
</html>